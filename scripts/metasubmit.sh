#!/bin/bash
#PBS -q hotel
#PBS -N metadensity
#PBS -l nodes=1:ppn=4
#PBS -l walltime=4:50:00
#PBS -o /home/hsher/cluster_msg/meta.out
#PBS -e /home/hsher/cluster_msg/meta.err
#PBS -t 0-334

source ~/miniconda3/etc/profile.d/conda.sh
conda activate metadensity

uids=(203 204 205 206 209 211 215 216 218 220 222 223 224 226 227 228 230 236 237 240 241 242 243 244 245 247 249 256 258 260 262 267 272 275 278 279 281 282 283 285 289 291 292 297 298 301 302 311 312 315 316 321 325 326 331 338 339 340 341 342 344 345 350 352 353 354 358 367 368 376 383 384 387 388 393 405 406 414 416 425 437 439 440 441 444 445 447 450 452 460 461 464 465 466 470 475 477 478 480 481 483 484 491 492 493 494 495 497 501 503 506 507 508 509 511 514 516 517 522 530 537 539 540 543 544 545 546 548 550 551 552 553 556 558 560 565 566 570 571 572 575 577 582 584 586 589 592 595 596 602 603 610 614 617 621 624 625 628 629 631 641 642 643 645 646 649 650 651 652 654 655 663 668 670 676 677 678 680 681 682 683 684 685 686 689 690 692 693 694 695 696 697 699 700 703 708 712 713 716 719 722reseq2 723reseq1 726 729 730 740 743 744 745 746 750 752 753 755 762 235x4000 284x4000fix 374x4000fix 632x 4001 4002 4004 4007 4008 4009 4006 4010 4012 4014 4017 4018 4019 4020 4022 4023 4035 4037 4038 4040 4044 4047 4052 4053 4050 4059 4045 4054 4055 4058 4056 4048 4049 4098 4099 4110 4030 4036 4082 4093 4072 4081 4028 4083 4087 4097 4094 4096 4111 4107 4108 4109 4114 4116 4117 4068 4065 4084 4088 4104 4092 4126 4070 4156 4157 4158 4159 4121 4125 4164 4155 4132 4203 4204 4160 4161 4140 4187 4222 4139 4142 4154 4146 4147 4148 4149 4134 4138 4213 4169 4137 4152 4144 4217 4190 4191 4209 4212 4201 4225 4202 4231 4176 4226 4228 4223 4224 4229 4230 4214 4215 4221)
#uids=(4007 249 685 480 737 283) # failed from CDS
uid=${uids[$PBS_ARRAYID]}
# uid=737
#python ~/Metadensity/scripts/percent_spliced.py

python /home/hsher/Metadensity/scripts/run_metadensity.py $uid ~/seqdata/metadensity

python /home/hsher/Metadensity/scripts/run_pos_enrich.py $uid 



#python /home/hsher/Metadensity/scripts/run_kmer_from_read.py $uid 

#python /home/hsher/Metadensity/scripts/run_shape_from_read.py $uid 

#python ~/Metadensity/scripts/rg4_enrichment.py $uid




